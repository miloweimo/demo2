(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["throttle"],{d639:function(t,n,e){"use strict";e.r(n);var i=e("7265"),l=function(){var t=this,n=t._self._c;return n("div",{staticClass:"pa-4"},[n("portal",{attrs:{to:"app-header"}},[n("router-link",{staticClass:"ml-2",attrs:{to:"/debounce"}},[t._v(" 参考节流 ")])],1),n("div",{staticClass:"d-flex"},[n("h1",[t._v("Throttle")]),n("span",[t._v(t._s(t.tip))])]),t._m(0),n("CodeHighlight",{attrs:{code:t.code}}),n(i["a"],{on:{click:t.runThrottle}},[t._v(" 运行Js方法 ")]),n(i["a"],{on:{click:t.runThrottle2}},[t._v(" 运行Vue方法 ")])],1)},a=[function(){var t=this,n=t._self._c;return n("p",[n("code",[t._v("throttle(func, wait)")]),t._v("每 wait 毫秒内最多只调用一次 func")])}],o=e("bc12");function r(t,n){let e=0,i=null;return function(){i&&(clearTimeout(i),i=null);let l=this,a=arguments,o=+new Date;const r=n-(o-e);console.log("remainWaitTime",r,r<=0),r<=0?(e=o,t.apply(l,a)):i=setTimeout((function(){e=+new Date,t.apply(l,a),i=null}),r)}}const s=()=>{console.log("runThrottle")},u=r(s,2e3);var c={components:{CodeHighlight:o["a"]},data(){return{tip:"",code:"function throttle(func, wait) {\n  // 上次触发时间戳\n  let lastTime = 0;\n  // 定时器\n  let timer = null;\n\n  return function () {\n    if (timer) {\n      clearTimeout(timer);\n      timer = null;\n    }\n\n    let self = this;\n    let args = arguments;\n    let nowTime = +new Date();\n\n    const remainWaitTime = wait - (nowTime - lastTime);\n\n    if (remainWaitTime <= 0) {\n      lastTime = nowTime;\n      func.apply(self, args);\n    } else {\n      timer = setTimeout(function () {\n        lastTime = +new Date();\n        func.apply(self, args);\n        timer = null;\n      }, remainWaitTime);\n    }\n  };\n}",runtask:null}},mounted(){this.runtask=r(this.fn2,2e3)},methods:{runThrottle(){u()},fn2(){this.tip="完成, 2000ms内最多调用1次",console.log("runThrottle2")},runThrottle2(){this.tip="运行中...",this.runtask()}}},m=c,h=e("2be6"),f=Object(h["a"])(m,l,a,!1,null,"1cda18bc",null);n["default"]=f.exports}}]);
//# sourceMappingURL=throttle.7458c1ce.js.map