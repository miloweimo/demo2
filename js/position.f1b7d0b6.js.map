{"version":3,"sources":["webpack:///./src/modules/position/index.vue?d00c","webpack:///./src/modules/position/index.vue","webpack:///src/modules/position/index.vue","webpack:///./src/modules/position/index.vue?2d86","webpack:///./src/modules/position/index.vue?2b65"],"names":["staticStyle","style","handleDragBox","isSelectBox","on","_vm","staticClass","staticRenderFns","timer","data","window","document","height","width","viewportRealtime","boxx","boxy","computed","viewport","body","clientWidth","clientHeight","created","addEventListener","resizeHandler","mounted","getViewport","getBoxPosition","destroyed","removeEventListener","methods","myDebounce","fn","delay","console","log","args","clearTimeout","setTimeout","apply","$refs","box","offsetLeft","offsetTop","e","movementX","movementY","boxElement","left","top","resetBox","component"],"mappings":"4GAAA,W,kFCA+B,EAAQ,W,IAAO,EAAU,EAAG,QAAC,EAAU,KAAOA,UAAY,G,OAAC,QAAW,C,YAAoB,CAAY,oBAACC,OAAQ,a,MAAoC,WAAe,EAACC,e,GAAc,C,UAA+BC,EAAW,cAAQ,oBAAC,oBAAkYC,CAAE,EAAC,2mB,YAASC,OAAY,IAAIA,MAAO,aAAgCC,kBAAiB,SAACF,IAAG,M,YAAY,M,GAAkBC,CAAsB,sBAAC,oBAE9wBE,UAAe,EAAG,GAAE,qC,KC6BxB,IAAAC,EAAA,KAEe,OACfC,OACA,OACAC,cACAC,kBACAC,OAAA,EACAC,MAAA,EACAC,iBAAA,GACAX,aAAA,EACAY,KAAA,EACAC,KAAA,IAGAC,SAAA,CACAC,WACA,MAAAL,EAAAF,SAAAQ,KAAAC,YACAR,EAAAD,SAAAQ,KAAAE,aACAH,EAAA,GAAAL,OAAAD,IACA,OAAAM,IAGAI,UACAZ,OAAAa,iBAAA,cAAAC,gBAEAC,UACA,KAAAX,iBAAA,KAAAY,cACA,KAAAC,kBAEAC,YACAlB,OAAAmB,oBAAA,cAAAL,gBAEAM,QAAA,CACAJ,cACA,KAAAb,MAAAF,SAAAQ,KAAAC,YACA,KAAAR,OAAAD,SAAAQ,KAAAE,aACA,MAAAH,EAAA,QAAAL,WAAA,KAAAD,SACA,OAAAM,GAGAa,WAAAC,EAAAC,EAAA,GAEA,OADAC,QAAAC,IAAA,OAAAH,EAAAC,GACA,IAAAG,KAEA5B,GACA6B,aAAA7B,GAGAA,EAAA8B,WAAA,KACAN,EAAAO,MAAA,KAAAH,IACAH,KAIAT,gBACA,KAAAO,WAAA,UAAAjB,iBAAA,KAAAY,eAAA,QAGAC,iBACA,KAAAZ,KAAA,KAAAyB,MAAAC,IAAAC,WACA,KAAA1B,KAAA,KAAAwB,MAAAC,IAAAE,WAEAzC,cAAA0C,GACA,QAAAzC,YAAA,CACA+B,QAAAC,IAAAS,EAAAC,UAAAD,EAAAE,WACA,MAAAC,EAAA,KAAAP,MAAAC,IACA,KAAA1B,KAAA,KAAAyB,MAAAC,IAAAC,WACA,KAAA1B,KAAA,KAAAwB,MAAAC,IAAAE,UACAI,EAAA9C,MAAA+C,KAAA,KAAAjC,KAAA6B,EAAAC,UAAA,KACAE,EAAA9C,MAAAgD,IAAA,KAAAjC,KAAA4B,EAAAE,UAAA,OAGAI,WAEA,KAAAV,MAAAC,IAAAxC,MAAA+C,KAAA,GACA,KAAAR,MAAAC,IAAAxC,MAAAgD,IAAA,GACA,KAAAtB,iBACA,KAAAxB,aAAA,KC7G4X,I,wBCQxXgD,EAAY,eACd,EACA,EACA5C,GACA,EACA,KACA,KACA,MAIa,aAAA4C,E","file":"js/position.f1b7d0b6.js","sourcesContent":["export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=efe300c2&prod&lang=css&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticStyle:{\"position\":\"relative\",\"border\":\"1px solid\"},style:(`height: ${_vm.height - 80}px;`),on:{\"mousemove\":_vm.handleDragBox,\"mouseup\":function($event){_vm.isSelectBox = false}}},[_c('h1',[_vm._v(\"元素位置\")]),_c('p',[_vm._v(\" \"+_vm._s(_vm.window?.innerWidth || _vm.document?.documentElement?.clientWidth || _vm.document?.body?.clientWidth)+\" \"+_vm._s(_vm.window?.innerHeight || _vm.document?.documentElement?.clientHeight || _vm.document?.body?.clientHeight)+\" 视口大小: \"+_vm._s(_vm.viewport)+\" 实时: \"+_vm._s(_vm.viewportRealtime)+\" \")]),_c('v-btn',{staticClass:\"mb-2\",on:{\"click\":_vm.resetBox}},[_vm._v(\" 回到原位 \")]),_c('div',{ref:\"box\",staticClass:\"box\",on:{\"mousedown\":function($event){_vm.isSelectBox = true}}},[_vm._v(\" \"+_vm._s(_vm.boxx)+\" \"+_vm._s(_vm.boxy)+\" \")])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div\n    style=\"position: relative;border: 1px solid;\"\n    :style=\"`height: ${height - 80}px;`\"\n    @mousemove=\"handleDragBox\"\n    @mouseup=\"isSelectBox = false\"\n  >\n    <h1>元素位置</h1>\n    <p>\n      {{ window?.innerWidth || document?.documentElement?.clientWidth || document?.body?.clientWidth }}\n      {{ window?.innerHeight || document?.documentElement?.clientHeight || document?.body?.clientHeight }}\n      视口大小: {{ viewport }} 实时: {{ viewportRealtime }}\n    </p>\n    <v-btn\n      class=\"mb-2\"\n      @click=\"resetBox\"\n    >\n      回到原位\n    </v-btn>\n    <div\n      ref=\"box\"\n      class=\"box\"\n      @mousedown=\"isSelectBox = true\"\n    >\n      {{ boxx }} {{ boxy }}\n    </div>\n  </div>\n</template>\n\n<script>\n\nlet timer = null;\n\nexport default {\n  data() {\n    return {\n      window,\n      document,\n      height: 0,\n      width: 0,\n      viewportRealtime: '',\n      isSelectBox: false,\n      boxx: 0,\n      boxy: 0,\n    };\n  },\n  computed: {\n    viewport() {\n      const width = document.body.clientWidth;\n      const height = document.body.clientHeight;\n      const viewport = `${width} x ${height}`;\n      return viewport;\n    },\n  },\n  created() {\n    window.addEventListener(\"resize\", this.resizeHandler);\n  },\n  mounted() {\n    this.viewportRealtime = this.getViewport();\n    this.getBoxPosition();\n  },\n  destroyed() {\n    window.removeEventListener(\"resize\", this.resizeHandler);\n  },\n  methods: {\n    getViewport() {\n      this.width = document.body.clientWidth;\n      this.height = document.body.clientHeight;\n      const viewport = `${this.width} x ${this.height}`;\n      return viewport;\n    },\n    // 防抖\n    myDebounce(fn, delay = 0) {\n      console.log('防抖函数', fn, delay);\n      return ( ...args ) => {\n\n        if (timer) {\n          clearTimeout(timer);\n        }\n\n        timer = setTimeout(() => {\n          fn.apply(this, args);\n        }, delay);\n      };\n    },\n\n    resizeHandler() {\n      this.myDebounce(() => {this.viewportRealtime = this.getViewport()}, 300)();\n    },\n    // 获取box 元素位置 boxx boxy offsetLeft offsetTop\n    getBoxPosition() {\n      this.boxx = this.$refs.box.offsetLeft;\n      this.boxy = this.$refs.box.offsetTop;\n    },\n    handleDragBox(e) {\n      if(this.isSelectBox) {\n        console.log(e.movementX, e.movementY);\n        const boxElement = this.$refs.box;\n        this.boxx = this.$refs.box.offsetLeft;\n        this.boxy = this.$refs.box.offsetTop;\n        boxElement.style.left = `${this.boxx + e.movementX}px`;\n        boxElement.style.top = `${this.boxy + e.movementY}px`;\n      }\n    },\n    resetBox() {\n      // 删除left top\n      this.$refs.box.style.left = '';\n      this.$refs.box.style.top = '';\n      this.getBoxPosition();\n      this.isSelectBox = false;\n    }\n  },\n\n}\n</script>\n\n<style>\n.box {\n  width: 100px;\n  height: 100px;\n  background-color: rgba(239, 178, 64, 0.869);\n  /* 抓手 */\n  cursor: grab;\n  position: absolute;\n}\n/* 按下抓住 */\n.box:active {\n  cursor: grabbing;\n}\n</style>","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=efe300c2&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=efe300c2&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}