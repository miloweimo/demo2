{"version":3,"sources":["webpack:///./src/modules/particlesjs/demo2.vue","webpack:///src/modules/particlesjs/demo2.vue","webpack:///./src/modules/particlesjs/demo2.vue?2713","webpack:///./src/modules/particlesjs/demo2.vue?695d","webpack:///./src/modules/konvajs/demo2.vue","webpack:///src/modules/konvajs/demo2.vue","webpack:///./src/modules/konvajs/demo2.vue?1407","webpack:///./src/modules/konvajs/demo2.vue?9893","webpack:///./src/modules/particlesjs/demo2.vue?70e4"],"names":["render","_vm","this","_self","_c","_m","staticRenderFns","attrs","mounted","initParticles","methods","window","particlesJS","component","staticClass","on","staticStyle","handleStageMouseDown","key","item","refInFor","name","ref","filters","x","y","width","height","fill","shadowBlur","innerWidth","innerHeight","image","Image","src","require","data","stageSize","selectedShapeName","shapeList","type","draggable","stroke","noise","color","Konva","Filters","Noise","rectNode","$refs","myrect","getNode","cache","i","length","shape","shapeNode","writeMessage","message","find","text","handleStageMouseOut","handleStageMouseMove","mousePos","stage","getPointerPosition","e","target","getStage","updateTransformer","clickedOnTransformer","getParent","className","transformerNode","transformer","selectedNode","findOne","node","nodes","handleAdd","push","Date","valueOf","points","strokeWidth","scaleX","scaleY","rotation","handleDelete","filter","handleMouseMove","Util","getRandomColor","setAttrs"],"mappings":"8GAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAQD,EAAIE,MAAMC,GAAG,OAAOH,EAAII,GAAG,IAEtEC,EAAkB,CAAC,WAAY,IAAIL,EAAIC,KAAKE,EAAGH,EAAIE,MAAMC,GAAG,OAAOA,EAAG,MAAM,CAACA,EAAG,MAAM,CAACG,MAAM,CAAC,GAAK,sBCOxF,G,UAAA,CACfC,UACA,KAAAC,iBAEAC,QAAA,CACAD,gBACAE,OAAAC,YAAA,gBACA,WACA,QACA,SACA,SACA,UACA,iBAGA,OACA,iBAEA,OACA,cACA,QACA,QACA,iBAEA,SACA,aAGA,SACA,SACA,UACA,MACA,UACA,QACA,eACA,UAGA,MACA,QACA,UACA,MACA,UACA,SACA,YACA,UAGA,aACA,UACA,aACA,gBACA,WACA,SAEA,MACA,UACA,QACA,iBACA,UACA,YACA,eACA,UACA,SACA,UACA,YACA,gBAIA,eACA,mBACA,QACA,SACA,UACA,aAEA,SACA,UACA,aAEA,WAEA,OACA,MACA,aACA,aACA,YAGA,QACA,aACA,QACA,WACA,UACA,SAEA,SACA,aACA,aAEA,MACA,gBAEA,QACA,kBAIA,uBCtH2X,I,wBCQvXC,EAAY,eACd,EACAb,EACAM,GACA,EACA,KACA,KACA,MAIa,aAAAO,E,oECnB6BT,EAAOD,WAAS,MAAU,KAAkBW,UAAY,GAAM,OAAM,QAAQ,WAACA,YAAY,QAAOC,CAAE,EAAC,Q,YAAS,O,GAAiB,CAAsB,kBAAC,wBAAmDA,CAAE,EAAC,sB,YAAS,O,GAAiB,CAA2B,kBAAC,6BAAmDA,CAAE,EAAC,sB,YAAS,O,GAAiB,CAA6B,kBAAC,+BAAoDA,CAAE,EAAC,uB,YAAS,O,GAAiB,CAA4B,kBAAC,8BAAmDA,CAAE,EAAC,sB,YAAS,O,GAAiB,CAA8C,kBAAC,8CAAgDR,GAAK,GAAC,iB,YAAQ,OAA8B,OAAIN,KAAO,iCAAuCM,GAAK,GAAC,mB,YAAQ,OAAkC,OAAIN,KAAO,qCAAuCM,GAAK,GAAC,mB,YAAQ,OAAyC,OAAIN,KAAO,4CAAwCe,eAAY,kB,IAAC,QAAoB,YAAC,CAACT,OAAM,aAAuB,MAAC,CAAG,OAAC,a,GAAsC,CAAmC,UAAYN,EAAIgB,qBAAqB,SAAY,EAAChB,oBAAwB,iCAAIG,WAAa,EAAI,uB,CAA8Fc,EAAG,UAAU,2D,OAAM,EAAEC,UAAW,CAACC,MAAS,KAAKb,IAAK,GAAE,EAAD,K,UAAS,EAAK,OAAG,eAAsGW,EAAG,GAACC,EAAKE,UAAI,0C,OAAM,EAAEF,WAAW,CAACC,MAAS,KAAKb,IAAK,GAAE,EAAD,K,UAAS,EAAK,OAAG,eAAkGW,EAAG,GAACC,EAAKE,UAAI,wC,OAAM,EAAEF,SAAU,CAAEC,MAAS,KAAKb,IAAK,GAAE,EAAD,K,UAAS,EAAK,MAAC,CAAG,OAAC,GAAgC,IAAG,kCAAkGW,EAAG,GAACC,EAAKE,UAAI,wC,OAAM,EAAEF,SAAU,CAAEC,MAAS,KAAKb,IAAK,GAAE,EAAD,K,UAAS,EAAK,OAAG,eAAkGW,EAAG,GAACC,EAAKE,UAAI,wC,OAAM,EAAEF,SAAU,CAAEC,MAAS,KAAKb,IAAK,GAAE,EAAD,K,UAAS,EAAK,OAAG,eAA2CH,EAAG,gBAAS,CAACkB,IAAI,gBAASf,EAAK,SAAC,C,IAAC,S,MAC3nEgB,C,OACQ,CACRC,QAAK,UACLC,MAAK,EACLC,KACAC,KACAC,MAAM3B,GACN4B,UACF,aAAE,gBAAoC,IAAI,UAAW,sBAE3DvB,SAAe,MAAK,4B,sCC0GxB,MAAAoB,EAAAf,OAAAmB,WACAH,EAAAhB,OAAAoB,YAEAC,EAAA,IAAArB,OAAAsB,MACAD,EAAAE,IAAAC,EAAA,QAEe,OACfC,OACA,OACAC,UAAA,CACAX,QACAC,SAAA,KAEAK,QACAM,kBAAA,GACAC,UAAA,CACA,CAAAC,KAAA,OAAAnB,KAAA,OAAAoB,WAAA,EAAAjB,EAAA,IAAAC,EAAA,IAAAC,MAAA,IAAAC,OAAA,GAAAe,OAAA,QAAAd,KAAA,SAAAC,WAAA,GAAAc,MAAA,IAEAC,MAAA,QACArB,QAAA,CAAAsB,IAAAC,QAAAC,SAIAvC,UACA,MAAAwC,EAAA,KAAAC,MAAAC,OAAAC,UACAH,EAAAI,QACA,QAAAC,EAAA,EAAAA,EAAA,KAAAd,UAAAe,OAAAD,IAAA,CACA,MAAAE,EAAA,KAAAhB,UAAAc,GACAE,EAAA3B,KAAA,KAAAgB,MACAW,EAAAhC,QAAA,KAAAA,QACA,MAAAiC,EAAA,KAAAP,MAAA,GAAAM,EAAAlC,MAAA,GAAA8B,UACAK,EAAAJ,UAIA1C,QAAA,CACA+C,aAAAC,GAEA,MAAAH,EAAA,KAAAhB,UAAAoB,KAAAxC,GAAA,WAAAA,EAAAE,MACAkC,MAAAK,KAAAF,IAEAG,sBACA,KAAAJ,aAAA,mBAEAK,uBACA,MAAAC,EAAA,KAAAd,MAAAe,MAAAb,UAAAc,qBACAzC,EAAAuC,EAAAvC,EACAC,EAAAsC,EAAAtC,EACA,KAAAgC,aAAA,MAAAjC,EAAA,QAAAC,IAEAR,qBAAAiD,GAKA,GAJA,KAAAT,aAAA,eAIAS,EAAAC,SAAAD,EAAAC,OAAAC,WAGA,OAFA,KAAA9B,kBAAA,QACA,KAAA+B,oBAKA,MAAAC,EACA,gBAAAJ,EAAAC,OAAAI,YAAAC,UACA,GAAAF,EACA,OAIA,MAAAjD,EAAA6C,EAAAC,OAAA9C,OAGA,KAAAiB,kBADAjB,GAGA,GAEA,KAAAgD,qBAEAA,oBAEA,MAAAI,EAAA,KAAAxB,MAAAyB,YAAAvB,UACAa,EAAAS,EAAAL,YACA,kBAAA9B,GAAA,KAEAqC,EAAAX,EAAAY,QAAA,IAAAtC,GAEAqC,IAAAF,EAAAI,SAIAF,EAEAF,EAAAK,MAAA,CAAAH,IAGAF,EAAAK,MAAA,MAGAC,UAAAvC,EAAA,QACA,SAAAA,IACA,KAAAiB,aAAA,YACA,KAAAlB,UAAAyC,KAAA,CAAAxC,KAAA,OAAAnB,KAAA,QAAA4D,MAAAC,UAAAzC,WAAA,EAAAjB,EAAA,EAAAC,EAAA,GAAA0D,OAAA,YAAAzC,OAAA,QAAA0C,YAAA,MAEA,QAAA5C,IACA,KAAAiB,aAAA,WACA,KAAAlB,UAAAyC,KAAA,CAAAxC,KAAA,OAAAnB,KAAA,QAAA4D,MAAAC,UAAAzC,WAAA,EAAAjB,EAAA,EAAAC,EAAA,EAAAC,MAAA,IAAAC,OAAA,GAAAe,OAAA,WAEA,SAAAF,IACA,KAAAiB,aAAA,YACA,KAAAlB,UAAAyC,KAAA,CAAAxC,KAAA,OAAAnB,KAAA,QAAA4D,MAAAC,UAAAzC,WAAA,EAAAjB,EAAA,IAAAC,EAAA,IAAAC,MAAA,IAAAC,OAAA,GAAAe,OAAA,QAAAd,KAAA,KAAAgB,MAAAf,WAAA,GAAAc,MAAA,KAEA,UAAAH,IACA,KAAAiB,aAAA,aACA,KAAAlB,UAAAyC,KAAA,CAAAxC,KAAA,QAAAnB,KAAA,QAAA4D,MAAAC,UAAAzC,WAAA,EAAAjB,EAAA,EAAAC,EAAA,EAAAO,QAAAqD,OAAA,EAAAC,OAAA,EAAAC,SAAA,MAGAC,aAAAnE,GACAA,IACA,KAAAoC,aAAA,UAAApC,GACA,KAAAkB,UAAA,KAAAA,UAAAkD,OAAAtE,KAAAE,UACA,KAAAiB,kBAAA,KAGAoD,kBACA,MAAA9C,EAAAC,IAAA8C,KAAAC,iBAGA5C,EAAA,KAAAC,MAAAC,OAAAC,UAEAH,EAAA6C,SAAA,CACAjE,KAAAgB,EACArB,QAAA,CAAAsB,IAAAC,QAAAC,OACAJ,MAAA,IAGAK,EAAAI,QAEA,QAAAC,EAAA,EAAAA,EAAA,KAAAd,UAAAe,OAAAD,IAAA,CACA,MAAAE,EAAA,KAAAhB,UAAAc,GAEAE,EAAA3B,KAAAgB,EACAW,EAAAhC,QAAA,CAAAsB,IAAAC,QAAAC,OACAQ,EAAAZ,MAAA,EACA,MAAAa,EAAA,KAAAP,MAAA,GAAAM,EAAAlC,MAAA,GAAA8B,UACAK,EAAAJ,YCrQ2X,I,YCOvXvC,EAAY,eACd,EACA,EACAP,GACA,EACA,KACA,KACA,MAIa,aAAAO,E,2CClBf,W","file":"js/demo2.1ad21759.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _vm._m(0)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{attrs:{\"id\":\"particles-js\"}})])\n}]\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div id=\"particles-js\" />\n  </div>\n</template>\n\n<script>\nimport 'particles.js'\n\nexport default {\n  mounted() {\n    this.initParticles()\n  },\n  methods: {\n    initParticles() {\n      window.particlesJS(\"particles-js\", {\n                \"particles\": {\n                    \"number\": {\n                        \"value\": 80,\n                        \"density\": {\n                            \"enable\": true,\n                            \"value_area\": 700\n                        }\n                    },\n                    \"color\": {\n                        \"value\": \"#ffffff\"\n                    },\n                    \"shape\": {\n                        \"type\": \"circle\",\n                        \"stroke\": {\n                            \"width\": 0,\n                            \"color\": \"#000000\"\n                        },\n                        \"polygon\": {\n                            \"nb_sides\": 5\n                        },\n                    },\n                    \"opacity\": {\n                        \"value\": 0.5,\n                        \"random\": false,\n                        \"anim\": {\n                            \"enable\": false,\n                            \"speed\": 1,\n                            \"opacity_min\": 0.1,\n                            \"sync\": false\n                        }\n                    },\n                    \"size\": {\n                        \"value\": 3,\n                        \"random\": true,\n                        \"anim\": {\n                            \"enable\": false,\n                            \"speed\": 40,\n                            \"size_min\": 0.1,\n                            \"sync\": false\n                        }\n                    },\n                    \"line_linked\": {\n                        \"enable\": true,\n                        \"distance\": 150,\n                        \"color\": \"#ffffff\",\n                        \"opacity\": 0.4,\n                        \"width\": 1\n                    },\n                    \"move\": {\n                        \"enable\": true,\n                        \"speed\": 6,\n                        \"direction\": \"none\",\n                        \"random\": false,\n                        \"straight\": false,\n                        \"out_mode\": \"out\",\n                        \"bounce\": false,\n                        \"attract\": {\n                            \"enable\": false,\n                            \"rotateX\": 600,\n                            \"rotateY\": 1200\n                        }\n                    }\n                },\n                \"interactivity\": {\n                    \"detect_on\": \"canvas\",\n                    \"events\": {\n                        \"onhover\": {\n                                \"enable\": true,\n                                \"mode\": \"grab\"\n                        },\n                        \"onclick\": {\n                            \"enable\": true,\n                            \"mode\": \"push\"\n                        },\n                        \"resize\": true\n                    },\n                    \"modes\": {\n                        \"grab\": {\n                            \"distance\": 140,\n                            \"line_linked\": {\n                                \"opacity\": 1\n                            }\n                        },\n                        \"bubble\": {\n                            \"distance\": 400,\n                            \"size\": 40,\n                            \"duration\": 2,\n                            \"opacity\": 8,\n                            \"speed\": 3\n                        },\n                        \"repulse\": {\n                            \"distance\": 200,\n                            \"duration\": 0.4\n                        },\n                        \"push\": {\n                            \"particles_nb\": 4\n                        },\n                        \"remove\": {\n                            \"particles_nb\": 2\n                        }\n                    }\n                },\n                \"retina_detect\": true\n            })\n    }\n  }\n}\n</script>\n\n<style>\n\n#particles-js {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  background-color: #000;\n  background-image: url(\"\");\n  background-repeat: no-repeat;\n  background-size: cover;\n  background-position: 50% 50%;\n}\n\n</style>","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./demo2.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./demo2.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./demo2.vue?vue&type=template&id=64d2aa86\"\nimport script from \"./demo2.vue?vue&type=script&lang=js\"\nexport * from \"./demo2.vue?vue&type=script&lang=js\"\nimport style0 from \"./demo2.vue?vue&type=style&index=0&id=64d2aa86&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[[_c('div',{staticClass:\"mb-2\"},[_c('v-btn',{staticClass:\"mr-2\",on:{\"click\":function($event){return _vm.handleAdd()}}},[_vm._v(\" 线 \")]),_c('v-btn',{staticClass:\"mr-2\",on:{\"click\":function($event){return _vm.handleAdd('box')}}},[_vm._v(\" 框 \")]),_c('v-btn',{staticClass:\"mr-2\",on:{\"click\":function($event){return _vm.handleAdd('image')}}},[_vm._v(\" 图片 \")]),_c('v-btn',{staticClass:\"mr-2\",on:{\"click\":function($event){return _vm.handleAdd('rect')}}},[_vm._v(\" 块 \")]),_c('v-btn',{staticClass:\"mr-2\",on:{\"click\":function($event){return _vm.handleDelete(_vm.selectedShapeName)}}},[_vm._v(\" 删除 \")]),_c('a',{staticClass:\"mr-2\",attrs:{\"href\":\"javascript:location.reload()\"}},[_vm._v(\"Reload\")]),_c('a',{staticClass:\"mr-2\",attrs:{\"href\":\"https://github.com/konvajs/konva\"}},[_vm._v(\"GitHub\")]),_c('a',{staticClass:\"mr-2\",attrs:{\"href\":\"https://konvajs.org/docs/vue/index.html\"}},[_vm._v(\"文档\")])],1)],[_c('v-stage',{ref:\"stage\",staticStyle:{\"border\":\"1px solid\"},attrs:{\"config\":_vm.stageSize},on:{\"mousemove\":_vm.handleStageMouseMove,\"mouseout\":_vm.handleStageMouseOut,\"mousedown\":_vm.handleStageMouseDown,\"touchstart\":_vm.handleStageMouseDown}},[_c('v-layer',[_vm._l((_vm.shapeList.filter(item => item.type === 'image')),function(item){return _c('v-image',{key:item.name,ref:`${item.name}`,refInFor:true,attrs:{\"config\":item}})}),_vm._l((_vm.shapeList.filter(item => item.type === 'circle')),function(item){return _c('v-circle',{key:item.name,ref:`${item.name}`,refInFor:true,attrs:{\"config\":item}})}),_vm._l((_vm.shapeList.filter(item => item.type === 'rect')),function(item){return _c('v-rect',{key:item.name,ref:`${item.name}`,refInFor:true,attrs:{\"config\":item},on:{\"mousemove\":_vm.handleMouseMove}})}),_vm._l((_vm.shapeList.filter(item => item.type === 'line')),function(item){return _c('v-line',{key:item.name,ref:`${item.name}`,refInFor:true,attrs:{\"config\":item}})}),_vm._l((_vm.shapeList.filter(item => item.type === 'text')),function(item){return _c('v-text',{key:item.name,ref:`${item.name}`,refInFor:true,attrs:{\"config\":item}})}),_c('v-transformer',{ref:\"transformer\"}),_c('v-rect',{ref:\"myrect\",attrs:{\"config\":{\n            filters: _vm.filters,\n            noise: 1,\n            x: 10,\n            y: 10,\n            width: 50,\n            height: 50,\n            fill: _vm.color,\n            shadowBlur: 10\n          }},on:{\"mousemove\":_vm.handleMouseMove}})],2)],1),_c('div',[_vm._v(\" 外面 demo2 \")])]],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <template>\n      <div class=\"mb-2\">\n        <v-btn\n          class=\"mr-2\"\n          @click=\"handleAdd()\"\n        >\n          线\n        </v-btn>\n        <v-btn\n          class=\"mr-2\"\n          @click=\"handleAdd('box')\"\n        >\n          框\n        </v-btn>\n        <v-btn\n          class=\"mr-2\"\n          @click=\"handleAdd('image')\"\n        >\n          图片\n        </v-btn>\n        <v-btn\n          class=\"mr-2\"\n          @click=\"handleAdd('rect')\"\n        >\n          块\n        </v-btn>\n        <v-btn\n          class=\"mr-2\"\n          @click=\"handleDelete(selectedShapeName)\"\n        >\n          删除\n        </v-btn>\n        <a\n          class=\"mr-2\"\n          href=\"javascript:location.reload()\"\n        >Reload</a>\n        <a\n          class=\"mr-2\"\n          href=\"https://github.com/konvajs/konva\"\n        >GitHub</a>\n        <a\n          class=\"mr-2\"\n          href=\"https://konvajs.org/docs/vue/index.html\"\n        >文档</a>\n      </div>\n    </template>\n    <template>\n      <v-stage\n        ref=\"stage\"\n        :config=\"stageSize\"\n        style=\"border: 1px solid;\"\n        @mousemove=\"handleStageMouseMove\"\n        @mouseout=\"handleStageMouseOut\"\n        @mousedown=\"handleStageMouseDown\"\n        @touchstart=\"handleStageMouseDown\"\n      >\n        <v-layer>\n          <v-image\n            v-for=\"item in shapeList.filter(item => item.type === 'image')\"\n            :ref=\"`${item.name}`\"\n            :key=\"item.name\"\n            :config=\"item\"\n          />\n          <v-circle\n            v-for=\"item in shapeList.filter(item => item.type === 'circle')\"\n            :ref=\"`${item.name}`\"\n            :key=\"item.name\"\n            :config=\"item\"\n          />\n          <v-rect\n            v-for=\"(item) in shapeList.filter(item => item.type === 'rect')\"\n            :ref=\"`${item.name}`\"\n            :key=\"item.name\"\n            :config=\"item\"\n            @mousemove=\"handleMouseMove\"\n          />\n          <v-line\n            v-for=\"item in shapeList.filter(item => item.type === 'line')\"\n            :ref=\"`${item.name}`\"\n            :key=\"item.name\"\n            :config=\"item\"\n          />\n          <v-text\n            v-for=\"item in shapeList.filter(item => item.type === 'text')\"\n            :ref=\"`${item.name}`\"\n            :key=\"item.name\"\n            :config=\"item\"\n          />\n          <v-transformer ref=\"transformer\" />\n          <v-rect\n            ref=\"myrect\"\n            :config=\"{\n              filters: filters,\n              noise: 1,\n              x: 10,\n              y: 10,\n              width: 50,\n              height: 50,\n              fill: color,\n              shadowBlur: 10\n            }\"\n            @mousemove=\"handleMouseMove\"\n          />\n        </v-layer>\n      </v-stage>\n      <div>\n        外面 demo2\n      </div>\n    </template>\n  </div>\n</template>\n\n<script>\nimport Konva from 'konva';\n\nconst width = window.innerWidth;\nconst height = window.innerHeight;\n\nconst image = new window.Image();\nimage.src = require(\"./cake.jpg\");\n\nexport default {\n  data() {\n    return {\n      stageSize: {\n        width: width,\n        height: height - 200\n      },\n      image: image,\n      selectedShapeName:'',\n      shapeList: [\n        { type: 'rect',name: 'rect', draggable: true, x: 100, y: 100, width: 100, height: 50, stroke: 'black', fill: 'orange', shadowBlur: 10, noise: 1, },\n      ],\n      color: 'green',\n      filters: [Konva.Filters.Noise]\n    };\n  },\n\n  mounted() {\n    const rectNode = this.$refs.myrect.getNode();\n    rectNode.cache();\n    for (let i = 0; i < this.shapeList.length; i++) {\n      const shape = this.shapeList[i];\n      shape.fill = this.color;\n      shape.filters = this.filters;\n      const shapeNode = this.$refs[`${shape.name}`][0].getNode();\n      shapeNode.cache();\n    }\n  },\n\n  methods: {\n    writeMessage(message) {\n      // 更新mytext\n      const shape = this.shapeList.find((item) => item.name === 'mytext');\n      if (shape){ shape.text = message;}\n    },\n    handleStageMouseOut() {\n      this.writeMessage('Mouseout Stage');\n    },\n    handleStageMouseMove() {\n      const mousePos = this.$refs.stage.getNode().getPointerPosition();\n      const x = mousePos.x;\n      const y = mousePos.y;\n      this.writeMessage('x: ' + x + ', y: ' + y);\n    },\n    handleStageMouseDown(e) {\n      this.writeMessage('Click Stage');\n      // console.log('handleStageMouseDown', e);\n\n      // clicked on stage - clear selection\n      if (e.target === e.target.getStage()) {\n        this.selectedShapeName = '';\n        this.updateTransformer();\n        return;\n      }\n\n      // clicked on transformer - do nothing\n      const clickedOnTransformer =\n        e.target.getParent().className === 'Transformer';\n      if (clickedOnTransformer) {\n        return;\n      }\n\n      // find clicked rect by its name\n      const name = e.target.name();\n      // const rect = this.rectangles.find((r) => r.name === name);\n      if (name) {\n        this.selectedShapeName = name;\n      } else {\n        this.selectedShapeName = '';\n      }\n      this.updateTransformer();\n    },\n    updateTransformer() {\n      // here we need to manually attach or detach Transformer node\n      const transformerNode = this.$refs.transformer.getNode();\n      const stage = transformerNode.getStage();\n      const { selectedShapeName } = this;\n\n      const selectedNode = stage.findOne('.' + selectedShapeName);\n      // do nothing if selected node is already attached\n      if (selectedNode === transformerNode.node()) {\n        return;\n      }\n\n      if (selectedNode) {\n        // attach to another node\n        transformerNode.nodes([selectedNode]);\n      } else {\n        // remove transformer\n        transformerNode.nodes([]);\n      }\n    },\n    handleAdd(type = 'line') {\n      if (type === 'line') {\n        this.writeMessage('Add line');\n        this.shapeList.push({ type: 'line', name: `${new Date().valueOf()}`, draggable: true, x: 0, y: 20, points: [0, 0, 150, 0], stroke: 'black', strokeWidth: 15 });\n      }\n      if (type === 'box') {\n        this.writeMessage('Add Box');\n        this.shapeList.push({ type: 'rect', name: `${new Date().valueOf()}`, draggable: true,x: 0, y: 0, width: 100, height: 50, stroke: 'black' });\n      }\n      if (type === 'rect') {\n        this.writeMessage('Add Rect');\n        this.shapeList.push({ type: 'rect',name: `${new Date().valueOf()}`, draggable: true, x: 100, y: 100, width: 100, height: 50, stroke: 'black', fill: this.color, shadowBlur: 10, noise: 1, });\n      }\n      if (type === 'image') {\n        this.writeMessage('Add image');\n        this.shapeList.push({ type: 'image', name: `${new Date().valueOf()}`, draggable: true, x: 0, y: 0, image: image, scaleX: 1, scaleY: 1,rotation: 0,});\n      }\n    },\n    handleDelete(name) {\n      if (name) {\n        this.writeMessage('Delete ' + name);\n        this.shapeList = this.shapeList.filter((item) => item.name !== name);\n        this.selectedShapeName = '';\n      }\n    },\n    handleMouseMove() {\n      const color = Konva.Util.getRandomColor();\n      \n      // recache\n      const rectNode = this.$refs.myrect.getNode();\n      \n      rectNode.setAttrs({\n        fill: color,\n        filters: [Konva.Filters.Noise],\n        noise: 1,\n      });\n       // may need to redraw layer manually\n      rectNode.cache();\n\n      for (let i = 0; i < this.shapeList.length; i++) {\n        const shape = this.shapeList[i];\n        // if (shape.type === 'rect') {\n          shape.fill = color;\n          shape.filters = [Konva.Filters.Noise];\n          shape.noise = 1;\n          const shapeNode = this.$refs[`${shape.name}`][0].getNode();\n          shapeNode.cache();\n        // }\n      }\n    },\n  }\n};\n</script>\n\n<style>\n\n</style>","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./demo2.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./demo2.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./demo2.vue?vue&type=template&id=0e9097ae\"\nimport script from \"./demo2.vue?vue&type=script&lang=js\"\nexport * from \"./demo2.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./demo2.vue?vue&type=style&index=0&id=64d2aa86&prod&lang=css\""],"sourceRoot":""}